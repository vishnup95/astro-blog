---
import { getCollection } from 'astro:content';
import BlogPost from '../components/BlogPost.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/styles.css';

// top level await! ES6 ftw
// const allBlogs = await Astro.glob('../pages/posts/*.md');
const allBlogs = await getCollection('posts');
---

<BaseLayout pageTitle="Blog Page">
	<ul style="padding-top: 15px;">
		{
			allBlogs.map((blogs) => (
				<BlogPost url={`posts/${blogs.slug}`} title={blogs.data.title} />
			))
		}
	</ul>
</BaseLayout>
